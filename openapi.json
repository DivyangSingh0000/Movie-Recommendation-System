{
  "openapi": "3.1.0",
  "info": {
    "title": "Movie Recommendation System API",
    "description": "API for movie recommendations using collaborative filtering, content-based, and hybrid approaches",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/health": {
      "get": {
        "tags": [
          "recommendations"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_api_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/recommendations/{user_id}": {
      "get": {
        "tags": [
          "recommendations"
        ],
        "summary": "Get Recommendations",
        "description": "Get movie recommendations for a user.\n\nArgs:\n    user_id: User ID\n    n_recommendations: Number of recommendations (default: 10)\n    algorithm: Specific algorithm to use (optional)\n\nReturns:\n    List of recommendations",
        "operationId": "get_recommendations_api_v1_recommendations__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "n_recommendations",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "N Recommendations"
            }
          },
          {
            "name": "algorithm",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Algorithm"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recommendations/similar/{movie_id}": {
      "get": {
        "tags": [
          "recommendations"
        ],
        "summary": "Get Similar Movies",
        "description": "Get movies similar to a given movie.\n\nArgs:\n    movie_id: Movie ID\n    n_recommendations: Number of similar movies (default: 10)\n\nReturns:\n    List of similar movies",
        "operationId": "get_similar_movies_api_v1_recommendations_similar__movie_id__get",
        "parameters": [
          {
            "name": "movie_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Movie Id"
            }
          },
          {
            "name": "n_recommendations",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "N Recommendations"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recommendations/batch": {
      "post": {
        "tags": [
          "recommendations"
        ],
        "summary": "Get Batch Recommendations",
        "description": "Get recommendations for multiple users.\n\nArgs:\n    user_ids: List of user IDs\n    n_recommendations: Number of recommendations per user\n\nReturns:\n    Dictionary of recommendations by user",
        "operationId": "get_batch_recommendations_api_v1_recommendations_batch_post",
        "parameters": [
          {
            "name": "n_recommendations",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "N Recommendations"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "title": "User Ids"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/interactions": {
      "post": {
        "tags": [
          "recommendations"
        ],
        "summary": "Record Interaction",
        "description": "Record a user-movie interaction.\n\nArgs:\n    interaction: Interaction data including user_id, movie_id, rating, etc.\n\nReturns:\n    Confirmation of recorded interaction",
        "operationId": "record_interaction_api_v1_interactions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Interaction"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/algorithms": {
      "get": {
        "tags": [
          "recommendations"
        ],
        "summary": "Get Available Algorithms",
        "description": "Get list of available recommendation algorithms.\n\nReturns:\n    List of algorithm information",
        "operationId": "get_available_algorithms_api_v1_algorithms_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/stats": {
      "get": {
        "tags": [
          "recommendations"
        ],
        "summary": "Get System Stats",
        "description": "Get system statistics.\n\nReturns:\n    System statistics",
        "operationId": "get_system_stats_api_v1_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/movies/{movie_id}": {
      "get": {
        "tags": [
          "movies"
        ],
        "summary": "Get Movie Details",
        "description": "Get detailed information about a movie.\n\nArgs:\n    movie_id: Movie ID\n\nReturns:\n    Movie details",
        "operationId": "get_movie_details_api_v1_movies__movie_id__get",
        "parameters": [
          {
            "name": "movie_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Movie Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/movies": {
      "get": {
        "tags": [
          "movies"
        ],
        "summary": "Search Movies",
        "description": "Search for movies with filters.\n\nArgs:\n    query: Search query for title/description\n    genre: Filter by genre\n    year_min: Minimum release year\n    year_max: Maximum release year\n    limit: Maximum number of results\n    offset: Pagination offset\n\nReturns:\n    List of matching movies",
        "operationId": "search_movies_api_v1_movies_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          },
          {
            "name": "genre",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Genre"
            }
          },
          {
            "name": "year_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Year Min"
            }
          },
          {
            "name": "year_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Year Max"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/movies/popular": {
      "get": {
        "tags": [
          "movies"
        ],
        "summary": "Get Popular Movies",
        "description": "Get popular movies based on interactions.\n\nArgs:\n    limit: Maximum number of results\n    time_period: Time period for popularity calculation\n\nReturns:\n    List of popular movies",
        "operationId": "get_popular_movies_api_v1_movies_popular_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "time_period",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "month",
              "title": "Time Period"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/genres": {
      "get": {
        "tags": [
          "movies"
        ],
        "summary": "Get All Genres",
        "description": "Get all available movie genres.\n\nReturns:\n    List of genres with counts",
        "operationId": "get_all_genres_api_v1_genres_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/profile": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User Profile",
        "description": "Get user profile and preferences.\n\nArgs:\n    user_id: User ID\n\nReturns:\n    User profile information",
        "operationId": "get_user_profile_api_v1_users__user_id__profile_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/history": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User History",
        "description": "Get user's interaction history.\n\nArgs:\n    user_id: User ID\n    limit: Maximum number of results\n    offset: Pagination offset\n\nReturns:\n    User interaction history",
        "operationId": "get_user_history_api_v1_users__user_id__history_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/preferences": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User Preferences",
        "description": "Update user preferences.\n\nArgs:\n    user_id: User ID\n    preferences: Updated preferences\n\nReturns:\n    Updated user profile",
        "operationId": "update_user_preferences_api_v1_users__user_id__preferences_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Preferences"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete User Data",
        "description": "Delete all user data (GDPR compliance).\n\nArgs:\n    user_id: User ID\n\nReturns:\n    Confirmation of deletion",
        "operationId": "delete_user_data_api_v1_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}